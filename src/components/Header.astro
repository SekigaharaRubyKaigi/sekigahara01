---
import { Image } from 'astro:assets';
import logoImage from '../assets/main-visual.svg';
import xLogo from '../assets/x-logo.svg';

/* ▼ メニューを一時的に非表示（コメントアウト）
const navItems = [
  { href: '/about', label: '開催概要' },
  { href: '/schedule', label: 'タイムテーブル' },
  { href: '/speakers', label: 'スピーカー' },
  { href: '/sponsors', label: 'スポンサー' },
];
*/

// パスの取得
const pathname = Astro.url.pathname;
const isTopPage = pathname === '/' || pathname === '/sekigahara01/' || pathname === '/sekigahara01';
---

<header class="relative p-4 w-full max-w-screen-xl mx-auto">
  
  <div class="flex items-center justify-between">
    
    {
      isTopPage ? (
        // トップページ用：左側を埋めるための空要素
        <div></div>
      ) : (
        // 下層ページ用：ロゴと文字
        <a href="/sekigahara01/" class="font-bold text-2xl flex items-center gap-2 text-inherit no-underline hover:opacity-70 transition-opacity z-50 relative">
          <Image 
            src={logoImage} 
            alt="関ケ原Ruby会議01 ロゴ" 
            class="w-12 h-auto object-contain" 
          />
          <span>関ケ原Ruby会議01</span>
        </a>
      )
    }

    <div class="flex items-center gap-10 z-50">
      <a href="/sekigahara01/news" class="hidden lg:block font-bold text-[#332F2E] hover:opacity-70 transition-opacity">
        News
      </a>

      <a href="/sekigahara01/team" class="hidden lg:block font-bold text-[#332F2E] hover:opacity-70 transition-opacity">
        Team
      </a>

      <a href="/sekigahara01/policies" class="hidden lg:block font-bold text-[#332F2E] hover:opacity-70 transition-opacity">
        Policies
      </a>

      <a href="https://x.com/sekigahara01" target="_blank" rel="noopener noreferrer" class="hidden lg:block hover:opacity-70 transition-opacity">
        <Image
          src={xLogo}
          alt="X"
          class="w-6 h-6 object-contain"
        />
      </a>

      <button id="menu-btn" class="block lg:hidden focus:outline-none">
        <div class="space-y-2">
          <span class="block w-8 h-0.5 bg-[#332F2E] animate-pulse"></span>
          <span class="block w-8 h-0.5 bg-[#332F2E] animate-pulse"></span>
          <span class="block w-8 h-0.5 bg-[#332F2E] animate-pulse"></span>
        </div>
      </button>
    </div>

  </div>

  <nav id="mobile-menu" class="hidden absolute top-0 left-0 w-full bg-[#C8B66C] shadow-lg z-40 p-4 pt-20 pb-10 border-b-4 border-[#332F2E]">
    <ul class="flex flex-col gap-6 text-center font-bold text-xl text-[#332F2E] mb-8">
      <li>
        <a href="/sekigahara01/news" class="block py-2 hover:bg-white/30 rounded transition-colors">
          News
        </a>
      </li>
      <li>
        <a href="/sekigahara01/team" class="block py-2 hover:bg-white/30 rounded transition-colors">
          Team
        </a>
      </li>
      <li>
        <a href="/sekigahara01/policies" class="block py-2 hover:bg-white/30 rounded transition-colors">
          Policies
        </a>
      </li>
    </ul>

    <div class="flex justify-center">
      <a href="https://x.com/sekigahara01" target="_blank" rel="noopener noreferrer" class="hover:opacity-70 transition-opacity">
        <Image
          src={xLogo}
          alt="X"
          class="w-8 h-8 object-contain"
        />
      </a>
    </div>
  </nav>

</header>

<script>
  const menuBtn = document.getElementById('menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');

  if (menuBtn && mobileMenu) {
    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  }
</script>
